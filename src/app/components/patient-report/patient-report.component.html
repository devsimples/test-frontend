<div class="container" style="margin-top: 70px;">
  
  <app-alert #alertComponent></app-alert>

  <h1>Appointments per Patient Report</h1>
  <form>
        <div class="form-group">
            <label for="patientId">Patient ID</label>
            <div class="row">
              <div class="col">
                <input id="patientId" type="text" class="form-control" #patientId placeholder="Example: marcos">
              </div>
              <div class="col">
                <button class="btn btn-primary" type="button" (click)="generateReport(patientId.value)">Search</button>
              </div>
            </div>
        </div>
  </form>

  <table class="table table-hover table-striped" *ngIf="report && report.length > 0" >
    <thead>
      <tr>
        <th>Year</th>
        <th>Week of Year</th>
        <th>Number of appointments</th>
        <th>CONSULTATION</th>
        <th>EXAMINATION</th>
        <th>ROUTINE</th>
        <th>MEDICAL_PROCEDURE</th>
        <th>CHECKUP</th>
        <th>Average Outcomes</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let r of report">
        <td> {{ r.year }}</td>
        <td> {{ r.week }}</td>
        <td> {{ r.appointmentCount }}</td>
        <td> {{ r.consultation }}</td>
        <td> {{ r.examination }}</td>
        <td> {{ r.routine }}</td>
        <td> {{ r.medicalProcedure }}</td>
        <td> {{ r.checkup }}</td>
        <td> {{ r.average }}</td>
      </tr>
    </tbody>
  </table>

</div>
